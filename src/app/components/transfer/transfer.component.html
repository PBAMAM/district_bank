<app-client-layout>
  <div class="transfer-container">
    <div class="transfer-header" [@fadeInUp]>
      <div class="header-content">
        <div class="header-icon">üí∏</div>
        <div class="header-text">
          <h1>Transfer Money</h1>
          <p class="header-subtitle">Send money securely to any account</p>
        </div>
      </div>
    </div>
    
    <div class="transfer-content">
      <div class="transfer-main">
        <div class="transfer-card" [@fadeInUp]>
          <div class="card-header">
            <h2>New Transfer</h2>
            <span class="info-badge">Secure</span>
          </div>

      <div class="source-account" [@slideInRight]>
        <div class="account-info">
          <div class="account-icon">
            <span class="icon">S</span>
          </div>
          <div class="account-details">
            <div class="account-type">{{ selectedAccount?.accountType || 'Select Account' }}</div>
            <div class="account-iban">{{ selectedAccount?.iban || 'No account selected' }}</div>
          </div>
          <div class="account-balance">
            <div class="balance-amount">
              {{ selectedAccount ? formatCurrency(selectedAccount.balance, selectedAccount.currency) : '0.00 EUR' }}
            </div>
            <span class="info-icon">‚ÑπÔ∏è</span>
          </div>
        </div>
        <a href="#" class="change-account-link">
          Change account
          <span class="arrow">‚Üí</span>
        </a>
      </div>

      <form [formGroup]="transferForm" (ngSubmit)="onSubmit()" class="transfer-form" [@fadeInUp]>
        <div class="form-group" [@slideInRight]>
          <label for="recipient">Recipient</label>
          <input
            type="text"
            id="recipient"
            formControlName="recipient"
            class="form-control"
            placeholder="Enter recipient name or IBAN"
            [class.error]="transferForm.get('recipient')?.invalid && transferForm.get('recipient')?.touched"
          >
        </div>

        <div class="form-group" [@slideInRight]>
          <label for="amount">Amount</label>
          <input
            type="number"
            id="amount"
            formControlName="amount"
            class="form-control"
            placeholder="0.00"
            step="0.01"
            min="0.01"
            [class.error]="transferForm.get('amount')?.invalid && transferForm.get('amount')?.touched"
          >
        </div>

        <div class="form-group" [@slideInRight]>
          <label for="description">Description</label>
          <input
            type="text"
            id="description"
            formControlName="description"
            class="form-control"
            placeholder="Enter transfer description"
            [class.error]="transferForm.get('description')?.invalid && transferForm.get('description')?.touched"
          >
        </div>

        <div class="form-group" [@slideInRight]>
          <label for="fromAccount">From Account</label>
          <select
            id="fromAccount"
            formControlName="fromAccount"
            class="form-control"
            (change)="onAccountChange($any($event.target).value)"
          >
            <option value="">Select Account</option>
            <option *ngFor="let account of accounts" [value]="account.id">
              {{ account.accountType }} - {{ formatCurrency(account.balance, account.currency) }}
            </option>
          </select>
        </div>

        <div class="form-actions">
          <button
            type="submit"
            class="btn btn-primary transfer-btn"
            [disabled]="transferForm.invalid || isLoading"
          >
            {{ isLoading ? 'Processing...' : 'Transfer' }}
          </button>
        </div>

        <div *ngIf="errorMessage" class="error-message" [@fadeIn]>
          <span class="error-icon">‚ö†Ô∏è</span>
          {{ errorMessage }}
        </div>

        <div *ngIf="transferSuccess" class="success-message" [@fadeIn]>
          <span class="success-icon">‚úì</span>
          Transfer completed successfully!
        </div>
      </form>
        </div>
      </div>
      
      <div class="transfer-sidebar" [@slideInRight]>
        <div class="info-card">
          <div class="info-card-header">
            <span class="info-icon-large">‚ÑπÔ∏è</span>
            <h3>Transfer Information</h3>
          </div>
          <div class="info-card-content">
            <div class="info-item">
              <span class="info-label">Processing Time</span>
              <span class="info-value">Instant</span>
            </div>
            <div class="info-item">
              <span class="info-label">Transfer Limit</span>
              <span class="info-value">No limit</span>
            </div>
            <div class="info-item">
              <span class="info-label">Security</span>
              <span class="info-value">256-bit SSL</span>
            </div>
          </div>
        </div>
        
        <div class="tips-card">
          <div class="tips-header">
            <span class="tips-icon">üí°</span>
            <h3>Quick Tips</h3>
          </div>
          <ul class="tips-list">
            <li>Double-check the recipient details before confirming</li>
            <li>Keep your transfer description clear and concise</li>
            <li>Transfers are processed instantly</li>
            <li>Contact support if you need assistance</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</app-client-layout>
